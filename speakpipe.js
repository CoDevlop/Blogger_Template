(function(){var J={languageCode:"en",domain:"https://www.speakpipe.com",protocol:"https",tab:{mobileEnabled:true,micImage:"https://www.speakpipe.com/static/img/widget/label_mic_v.png",visible:true,position:"middle-right",textImage:"https://s3.amazonaws.com/speakpipe/label/4/4g/4g0djh32yaimjogg.png?v=1",color:"#3a5797"},isLogEnabled:false,siteName:"Default",publicToken:"xbvs8wwgwxsg21yu7ee9mv9vkx77e4xp",balloon:{color:"#ffcc66",text:"Hi my Co-Devloper!<br>I always want to hear from you",enabled:true},optin:{defaultValue:false,enabled:false,shortMsg:null},isProduction:true,maxDuration:90,siteTypeId:1,buildNum:416,siteId:95657,dialog:{customCSS:"",displayName:null,nameRequired:false,emailRequired:false,subscribeEmailLabel:"Subscribe to the SpeakPipe Newsletter for updates about new features",buttonBgColor:null,whiteLabel:false,subscribeEmailEnabled:false,thankyouMsg:null,width:340,isFreePlan:true,mobileSupport:true,height:345,titleText:null,welcomeMsg:"We would love to hear from you!<br>Please record your message."},visitorToken:"ZU63DPaMAbmEmJzM",audioFormat:"mp3",isSecureConnection:true};var M;var y;var j=function(N){(/complete|loaded|interactive/.test(document.readyState))?N():setTimeout(function(){j(N)},9)};function q(){var N=J.tab;return N&&N.visible&&(!n()||N.mobileEnabled)}if(q()){try{j(function(){a()})}catch(L){}}I();function F(P){var N="";for(var O in P){N+=O+": "+P[O]+"; "}return N}function o(O,P){for(var N in P){O.style[N]=P[N]}}function C(N){var O=curtop=0;if(N.offsetParent){do{O+=N.offsetLeft;curtop+=N.offsetTop}while(N===N.offsetParent)}else{O=N.offsetLeft;curtop=N.offsetTop}return{left:O,top:curtop}}function v(O,N){var T=parseInt(O.substring(1),16);var S=(T&16711680)>>16;var Q=(T&65280)>>8;var V=(T&255)>>0;S=S+Math.floor((N/255)*S);Q=Q+Math.floor((N/255)*Q);V=V+Math.floor((N/255)*V);var P=(S<<16)+(Q<<8)+(V);var U="#"+P.toString(16);return U}function k(N){var O="5px";var R="25px";var Q;if(N in {"top-right":1,"top-left":1}){Q={borderTop:"none",webkitBorderBottomLeftRadius:O,webkitBorderBottomRightRadius:O,MozBorderRadiusBottomleft:O,MozBorderRadiusBottomright:O,borderBottomLeftRadius:O,borderBottomRightRadius:O,top:"0px"}}else{if(N in {"middle-right":1,"middle-left":1}){Q={top:"35%"}}else{if(N in {"bottom-right":1,"bottom-left":1}){Q={borderBottom:"none",webkitBorderTopLeftRadius:O,webkitBorderTopRightRadius:O,MozBorderRadiusTopleft:O,MozBorderRadiusTopright:O,borderTopLeftRadius:O,borderTopRightRadius:O,bottom:"0px"}}}}switch(N){case"top-right":case"bottom-right":Q.right=R;break;case"top-left":case"bottom-left":Q.left=R;break;case"middle-right":Q.right="0px";Q.borderRight="none";Q.webkitBorderTopLeftRadius=O;Q.webkitBorderBottomLeftRadius=O;Q.MozBorderRadiusTopleft=O;Q.MozBorderRadiusBottomleft=O;Q.borderTopLeftRadius=O;Q.borderBottomLeftRadius=O;break;case"middle-left":Q.left="0px";Q.borderLeft="none";Q.webkitBorderTopRightRadius=O;Q.webkitBorderBottomRightRadius=O;Q.MozBorderRadiusTopright=O;Q.MozBorderRadiusBottomright=O;Q.borderTopRightRadius=O;Q.borderBottomRightRadius=O;break}Q.backgroundColor=J.tab.color;Q.border="1px solid "+J.tab.color;Q.display="block";Q.textAlign="center";Q.font="16px/100% Arial, Helvetica, sans-serif";Q.position="fixed";Q.margin="0";var P="0px 0 6px 1px rgba(0, 0, 0, 0.5)";Q.MozBoxShadow=P;Q.webkitBoxShadow=P;Q.boxShadow=P;Q.zIndex="100000";Q.webkitBoxSizing="content-box";Q.MozBoxSizing="content-box";Q.boxSizing="content-box";return Q}function b(N){var O={padding:"6px 30px",textDecoration:"none",display:"block",color:"#fff",font:"16px/100% Arial, Helvetica, sans-serif",margin:"0",backgroundColor:"transparent"};if(N in {"middle-right":1,"middle-left":1}){O.padding="30px 6px"}return O}function r(){var P=-1;if(navigator.appName=="Microsoft Internet Explorer"){var N=navigator.userAgent;var O=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(O.exec(N)!=null){P=parseFloat(RegExp.$1)}}return P}function K(){var O=true;var N=r();if(N>-1){if(N<7){O=false}}return O}function s(){var N=false;try{var O=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");if(O){N=true}}catch(P){if(navigator.mimeTypes["application/x-shockwave-flash"]!=undefined){N=true}}return N}function c(){var N;if(typeof window.innerWidth!="undefined"){N=window.innerHeight}else{if(typeof document.documentElement!="undefined"&&typeof document.documentElement.clientWidth!="undefined"&&document.documentElement.clientWidth!=0){N=document.documentElement.clientHeight}else{N=document.getElementsByTagName("body")[0].clientHeight}}return N}function a(){if(!K()){return}var N=s();if(true){var S=k(J.tab.position);var Q=b(J.tab.position);var P=document.createElement("div");y=P;P.setAttribute("id","-speakpipe-widget-side-button");o(P,S);var O=document.createElement("a");o(O,Q);O.setAttribute("href","#");O.onclick=x;if(window._speakpipeTabInitialized){_speakpipeTabInitialized(P)}function R(W,U,V){var T=new Image();T.onload=function(){O.appendChild(T);T.onload=null;if(V){V()}else{P.appendChild(O);P.style.visibility="hidden";document.body.appendChild(P);try{}catch(Y){}M=h(P,J,x);if(J.tab.position in {"middle-right":1,"middle-left":1}){try{var X=((P.offsetHeight/c())*100)/2;X=50-X;P.style.top=X+"%"}catch(Z){}}P.style.visibility="visible"}};T.style.cssText="max-width: none !important";if(!U){U={}}U.font="16px/120% Arial, Helvetica, sans-serif";U.border="none";U.padding="0";U.background="none";U.backgroundColor="transparent";U.cssFloat="none";U.boxShadow="none";U.MozBoxShadow="none";U.webkitBoxShadow="none";o(T,U);T.src=W}if(J.tab.position in {"middle-right":1,"middle-left":1}){R(J.tab.textImage,{display:"inline",margin:"0"},function(){R(J.tab.micImage,{display:"block",margin:"11px -1px 0 0"})})}else{R(J.tab.micImage,{display:"inline",margin:"0 12px -1px 0"},function(){R(J.tab.textImage,{display:"inline",margin:"0"})})}}if(!N){}}function G(){var P=z("_speakpipe_labs");var N=s();if(P!=3&&N){var O="/labs/tests/mp3/"+J.siteId;w(O);l("_speakpipe_labs",3)}}function w(O){var Q=document.createElement("iframe");var P=Q.style;P.border="none";P.width="1px";P.height="1px";P.position="fixed";P.right="0";P.bottom="0";Q.setAttribute("frameBorder",0);var N=encodeURIComponent(window.location.href);Q.setAttribute("src",J.domain+O+"?rf="+N);document.body.appendChild(Q)}function I(){if(!window._speakpipe_open_widget){window._speakpipe_open_widget=x}if(!window._speakpipe_open_reply_dialog){window._speakpipe_open_reply_dialog=p}if(!window._speakpipe_open_reply_dialog_by_token){window._speakpipe_open_reply_dialog_by_token=m}if(!window._speakpipe_open_to_email_dialog){window._speakpipe_open_to_email_dialog=D}if(!window._speakpipe_preview_balloon){window._speakpipe_preview_balloon=t}if(!window._speakpipe_open_url_in_dialog){window._speakpipe_open_url_in_dialog=E}}function e(N){if(window._speakpipeOnSentCallback&&N.is_sent){_speakpipeOnSentCallback(N.duration,N.email_added)}}function A(){if(window._speakpipeOnSentCallback){if(!window._speakpipe_last_msg_info_callback){window._speakpipe_last_msg_info_callback=e}var N="/api/last-msg-info/"+J.visitorToken+"?callback=_speakpipe_last_msg_info_callback";d(N,"js")}}function x(){if(M){M()}p(J.publicToken);g("open");return false}function B(){var N=0;var O=0;if(!window.innerWidth){if(!(document.documentElement.clientWidth==0)){N=document.documentElement.clientWidth;O=document.documentElement.clientHeight}else{N=document.body.clientWidth;O=document.body.clientHeight}}else{N=window.innerWidth;O=window.innerHeight}return{width:N,height:O}}function H(){var Q=document.documentElement,N=document.body;var P=(Q&&Q.scrollLeft||N&&N.scrollLeft||0);var O=(Q&&Q.scrollTop||N&&N.scrollTop||0);return{left:P,top:O}}function D(O,N){p(O,null,null,null,true,N)}function u(S){var P=S.style;var O=B();var R=Math.round((O.width-S.offsetWidth)/2);var Q=Math.round((O.height-S.offsetHeight)/2);if(n()){var N=H();P.position="absolute";R=N.left+R;Q=N.top+Q}else{P.position="fixed"}P.left=R+"px";P.top=Q+"px"}function p(T,Q,S,P,O,R){var N=J.domain+"/apps/dialog/"+T;if(S&&Q){N+="/"+Q+"/"+S;if(P&&P!=-1){N+="/"+P}}else{if(O){N+="/to_email";if(R){N+="/"+encodeURIComponent(R)}}}N+="?vt="+J.visitorToken+"&rf="+encodeURIComponent(window.location.href);E(N)}function m(Q,P,O){var N=J.domain+"/widget/reply-dialog/"+Q;N+="/"+P;if(O){N+="/"+O}N+="?vt="+J.visitorToken+"&rf="+encodeURIComponent(window.location.href);E(N)}function E(U){var R="-speakpipe-modal-overlay";var X="-speakpipe-dialog-container";var S="_speakpipe_labs_recorder_frame";var P="-speakpipe-frame-load-indicator";var W=document.getElementById(X);var O=document.getElementById(S);var N=document.getElementById(R);var Q=document.getElementById(P);if(W){O.style.visibility="hidden";N.style.display="block";Q.style.display="block";W.style.display="block";u(W);O.src=U;return}if(!N){N=document.createElement("div");N.setAttribute("id",R);var ab=N.style;ab.display="none";ab.position="fixed";ab.top="0";ab.left="0";ab.right="0";ab.bottom="0";ab.zIndex=2147482112;ab.opacity=0.5;ab.backgroundColor="#000000";ab.filter="alpha(opacity=50)";document.body.appendChild(N)}N.style.display="block";if(!W){W=document.createElement("div");W.setAttribute("id",X);var ab=W.style;ab.left="600px";ab.top="100px";ab.width=J.dialog.width+"px";ab.height=J.dialog.height+"px";ab.backgroundColor="#fff";ab.zIndex=2147482113;ab.fontFamily="Arial, Helvetica, sans-serif";ab.padding="8px";ab.color="#000";ab.backgroundColor="#F1F1F1";ab.direction="ltr";var aa="8px";ab.WebkitBorderRadius=aa;ab.MozBorderRadius=aa;ab.borderRadius=aa;var T="0px 0px 5px 2px rgba(0, 0, 0, 0.3)";ab.MozBoxShadow=T;ab.WebkitBoxShadow=T;ab.boxShadow=T;ab.visibility="hidden";ab.WebkitBoxSizing="content-box";ab.MozBoxSizing="content-box";ab.boxSizing="content-box";document.body.appendChild(W);u(W);var Z=document.createElement("a");Z.setAttribute("href","#");Z.style.cssText="left: auto !important";var ab=Z.style;ab.background='url("'+J.domain+'/static/img/widget/close-btn.png") no-repeat scroll 0 0 transparent';ab.cursor="pointer";ab.display="inline";ab.width="27px";ab.height="29px";ab.position="absolute";ab.right="-16px";ab.top="-15px";ab.zIndex=2147482114;Z.onclick=function(){A();W.style.display="none";document.getElementById(R).style.display="none";return false};W.appendChild(Z);if(!Q){Q=document.createElement("img");Q.src=J.domain+"/static/img/widget/dialog-loader.gif";Q.setAttribute("id",P);Q.style.position="absolute";var V=42;Q.style.left=(J.dialog.width-V)/2+"px";Q.style.top=(J.dialog.height-V)/2+"px";Q.style.margin="0";Q.style.cssFloat="none";W.appendChild(Q)}W.style.visibility="visible"}if(!O){O=document.createElement("iframe");O.style.cssText="border: none !important; padding: 0 !important; margin: 0 !important; box-shadow: none !important;";O.style.width=J.dialog.width+"px";O.style.height=J.dialog.height+"px";O.setAttribute("id",S);O.setAttribute("frameBorder",0);O.style.visibility="hidden";O.setAttribute("src",U);function Y(){Q.style.display="none";O.style.visibility="visible"}if(O.attachEvent){O.attachEvent("onload",Y)}else{O.onload=Y}W.appendChild(O)}}function d(Q,O,N){var P;if(O==="js"){P=document.createElement("script");P.setAttribute("type","text/javascript");P.setAttribute("src",J.domain+Q);if(N){P.onload=N;P.onreadystatechange=function(){if(this.readyState=="complete"||this.readyState=="loaded"){N()}}}}(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(P)}function g(P,Q,T){if(J.isLogEnabled||Q){var N="/widget_log?";var S={speakpipe_id:J.siteId,visitor_token:J.visitorToken,action_code:P,log_message:T,ref_url:window.location.href};var R="wloader=1";for(var O in S){if(S[O]){R+="&"+encodeURIComponent(O)+"="+encodeURIComponent(S[O])}}N=N+R;d(N,"js")}}function l(O,P){if(O){var N=new Date();N.setDate(N.getDate()+7);document.cookie=O+"="+P+"; expires="+N.toGMTString()+"; path=/"}}function z(O){var Q=O+"=";var N=document.cookie.split(";");for(var P=0;P<N.length;P++){var R=N[P];while(R.charAt(0)==" "){R=R.substring(1,R.length)}if(R.indexOf(Q)==0){return R.substring(Q.length,R.length)}}return null}function f(Q){var O=Q.split("\n");var N="";for(var P=0;P<O.length;P++){N+=O[P];if(P<O.length-1){N+="<br>"}}return N}function t(O,N){if(O){J.balloon.text=f(O)}if(N){J.balloon.color="#"+N}h(y,J,x,true)}function n(){var R="iphone";var O="ipod";var Q="ipad";var S="android";var N=navigator.userAgent.toLowerCase();function P(T){if(N.search(T)>-1){return true}else{return false}}return P(R)||P(O)||P(Q)||P(S)}function i(){var R="iphone";var O="ipod";var Q="ipad";var N=navigator.userAgent.toLowerCase();function P(S){if(N.search(S)>-1){return true}else{return false}}return P(R)||P(O)||P(Q)}function h(S,T,ac,Z){var Q;var U="-speakpipe-tab-balloon";var R="_speakpipe_balloon_flag";var P=2;var aa;var W=false;function O(){X();if(!W){aa=new Image();o(aa,{display:"inline",font:"16px/120% Arial, Helvetica, sans-serif",border:"none",padding:0,margin:0,background:"none",backgroundColor:"transparent",margin:"0 0 -15px",cssFloat:"none"});aa.src=J.domain+"/static/img/widget/mic-icon.png";W=true}}function X(){if(Q){clearTimeout(Q)}else{var ae=document.getElementById(U);if(ae){ae.style.display="none";ae.parentNode.removeChild(ae)}}return false}function ad(){var ae=z(R);return((ae!=P)&&!n())||(J.siteId===80597)}function Y(af,ae,ah){var ag={font:"15px/120% Arial, Helvetica, sans-serif",position:"fixed",visibility:"hidden",right:"10px",top:"30%",backgroundColor:af.balloon.color,color:"#000",width:"270px",padding:"15px",border:ae+"px solid "+ah,webkitBorderRadius:"5px",MozBorderRadius:"5px",borderRadius:"5px",boxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.3)",MozBoxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.3)",webkitBoxShadow:"0px 1px 2px 0px rgba(0, 0, 0, 0.3)",zIndex:"1000200",direction:"ltr",textAlign:"left",textShadow:"none",webkitBoxSizing:"content-box",MozBoxSizing:"content-box",boxSizing:"content-box"};return ag}function N(ao,af,an,aj){var al=15;var ap=ao.offsetWidth;var ag=ao.offsetHeight;var ah=af.offsetWidth;var ak=af.offsetHeight;var ai=C(af);var ae={left:0,top:0};var am=aj+10;ae.top=ak+al;if(an in {"bottom-right":1,"bottom-left":1}){ae.top=ai.top-ag-al}switch(an){case"top-left":case"bottom-left":ae.left=ai.left+(ah/2)-am;break;case"top-right":case"bottom-right":ae.left=ai.left-ap+(ah/2)+am;break;case"middle-left":case"middle-right":ae.top=ai.top+ak/2-am}if(an==="middle-left"){ae.left=ai.left+ah+al}else{if(an==="middle-right"){ae.left=ai.left-ap-al}}ao.style.left=ae.left+"px";ao.style.top=ae.top+"px"}function V(aq,ar,av,ah,ag,ae,ap){var ak=10;var al={borderColor:"rgba(255,255,255,0)",borderStyle:"solid",borderWidth:ak+"px",height:"0",width:"0",position:"absolute",zIndex:"1000100"};al.borderColor="transparent";var ai;var aj;var af=ak*2;var at=-(af-ae)+"px";var ao=-(af+ae)+"px";var an=av.substring(0,av.indexOf("-"));var am=av.substring(av.indexOf("-")+1);if(av in {"top-right":1,"top-left":1,"bottom-right":1,"bottom-left":1}){var au=(an==="top")?"borderBottomColor":"borderTopColor";al[au]=ah;al[an]=at;al[am]=ap+"px";o(aq,al);al[au]=ag;al[an]=ao;o(ar,al)}else{if(av in {"middle-right":1,"middle-left":1}){var au=(am==="left")?"borderRightColor":"borderLeftColor";al[au]=ah;al[am]=at;al.top=ap+"px";o(aq,al);al[au]=ag;al[am]=ao;o(ar,al)}}return al}function ab(){Q=null;var ah=v(T.balloon.color,-30);var af=2;var ag=Y(T,af,ah);var an=document.createElement("div");var ai=document.createElement("a");ai.onclick=function(ap){if(!ap){var ap=window.event}ap.cancelBubble=true;if(ap.stopPropagation){ap.stopPropagation()}l(R,P);X();return false};ai.innerHTML="x";ai.setAttribute("href","#");o(ai,{backgroundColor:ah,color:"#e00",textDecoration:"none",display:"block",padding:"1px 5px",position:"absolute",right:"10px",top:"8px",WebkitBorderRadius:"3px",MozBorderRadius:"3px",borderRadius:"3px"});an.appendChild(ai);var ao=document.createElement("div");var ae=document.createElement("div");o(ae,{textAlign:"left",margin:"-5px 0 22px",padding:"0 0 0 5px"});ae.appendChild(aa);ae.innerHTML+="<b>Send a voice message</b>";ao.appendChild(ae);ao.innerHTML+=T.balloon.text;an.appendChild(ao);o(an,ag);an.setAttribute("id",U);var am=T.tab.position;var al=document.createElement("div");var ak=document.createElement("div");an.appendChild(ak);an.appendChild(al);var aj=30;V(al,ak,am,T.balloon.color,ah,af,aj);l(R,P);an.onclick=function(){if(ac){X();ac();g("balloon_click")}};document.body.appendChild(an);N(an,S,am,aj);an.style.visibility="visible"}if(Z||(ad()&&T.balloon.enabled)){O();if(Z){ab()}else{Q=setTimeout(ab,20000)}}return X}})();